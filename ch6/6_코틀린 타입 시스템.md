# 6ì¥. ì½”í‹€ë¦°ì˜ íƒ€ì… ì‹œìŠ¤í…œ

ì½”í‹€ë¦°ì—ì„œëŠ” `nullable íƒ€ì…(ë„ í—ˆìš©)` ê³¼ `immutable íƒ€ì…(ì½ê¸° ì „ìš©)`ì´ ë³„ë„ë¡œ ì¡´ì¬í•œë‹¤.

----

## Null ê°€ëŠ¥ì„±

- NPE(Null Pointer Exception) ì€ ìˆ˜ë§ì€ ê¸°ê°„ë™ì•ˆ ê°œë°œìë“¤ì„ ê´´ë¡­í˜€ì˜¨ ë²„ê·¸ì´ë‹¤.
- ì½”í‹€ë¦°ì„ ë¹„ë¡¯í•œ ìµœì‹  ì–¸ì–´ë“¤ì€ Nullì„ ì»´íŒŒì¼ ì‹œì ì— í™•ì¸í•  ìˆ˜ ìˆê²Œ ì œê³µí•´ì¤€ë‹¤.

`Java code`

```java
// í•´ë‹¹ ì½”ë“œëŠ” NPEì— ì•ˆì „í• ê¹Œ? string == null ì´ë¼ë©´?
public class Main() {
    int strLen(String string) {
        return s.length;
    }
}
```

<br>

### ğŸ“Œ Null Safe Type

- ë³´í†µì˜ ê²½ìš° null ì„ ì‚¬ìš©í•˜ëŠ”ê±´ ì•ˆí‹°íŒ¨í„´ì´ì§€ë§Œ, ì½”í‹€ë¦°ì—ì„œëŠ” ì‚¬ìš©í•´ë„ ê´œì°®ë‹¤.
- ì½”í‹€ë¦°ì˜ nullable íƒ€ì…ê³¼ ìŠ¤ë§ˆíŠ¸ ìºìŠ¤íŒ…ë“±ì„ ì´ìš©í•˜ì—¬ Nullì„ ì•ˆì „í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```kotlin
// Tip. íƒ€ì…ì´ ë§ì§€ì•Šìœ¼ë©´ ì»´íŒŒì¼ ì‹œì ì— Type Mismatch ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.
fun foo(): String = "foo"
fun bar(): String? = "bar"
```

<br>

- ì´ë¥¼ ìë°”ë¡œ ë³€í™˜í•˜ë©´ ì•„ë˜ì™€ ê°™ë‹¤. `Optional`ì„ ì‚¬ìš©í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼ì„œ ì„±ëŠ¥ì— í° ì˜í–¥ ì—†ë‹¤.

```java
/**
 * ì´ëŠ” ìë°”ì™€ ë°”ì´íŠ¸ì½”ë“œìƒìœ¼ë¡œ @Nullable ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ ê°™ë‹¤. 
 * Optional ì´ ì•„ë‹ˆë‹¤.
 */
public class Main {
    @NotNull
    public static final String foo() {
        return "foo";
    }

    @Nullable
    public static final String bar() {
        return "bar";
    }
}
```

<br>

----

## ì½”í‹€ë¦°ì—ì„œ ì œê³µí•˜ëŠ” ì—°ì‚°ìë“¤

### ğŸ“Œ Safe Call [ _?._ ]

- ì•„ë˜ ì½”ë“œë¥¼ ì½”í‹€ë¦°ì—ì„  ì—°ì‚°ì ?. ë¥¼ ì´ìš©í•˜ë©´ ê°„ë‹¨í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.

```java
if(s!=null)
        s.toUpperCase()
        else
        null
```

```kotlin
// kotlin ?.
s?.toUpperCase()
```

<br>

- ê°ì²´ ê·¸ë˜í”„ë¥¼ íƒìƒ‰í•´ì•¼í•  ë•Œ êµ‰ì¥íˆ ê°„ê²°í•˜ê²Œ ì½”ë“œë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

```java
if(person!=null)
        if(person.house!=null)
        if(person.house.cat!=null)
        person.house.cat
        else null // person == null ì´ë©´ ë„ ë°˜í™˜
        else null // person.house == null ì´ë©´ ë„ ë°˜í™˜
        else null // person.house.cat == null ì´ë©´ ë„ ë°˜í™˜
```

```kotlin
// kotlin ?.
val cat: Cat? = person?.house?.cat
```

<br>

### ğŸ“Œ Elvis Operator [ _?:_ ]

![.](../images/ch6/elvis.png)

```java
ë‹¤ë¥¸ ì–¸ì–´ì—ì„œ ì‚¬ìš©í•˜ë˜[Null coalescing]ë„ ë³µí•©ì—°ì‚°ì ë¼ëŠ” ì´ë¦„ì´ ìˆì§€ë§Œ
        ìš©ì–´ê°€ ì–´ë µê¸°ë„ í•˜ê³ ,ì—˜ë¹„ìŠ¤ í”„ë ˆì¦ë¦¬ì˜ ë¨¸ë¦¬ìŠ¤íƒ€ì¼ì„ ë‹®ì•„ ì—˜ë¹„ìŠ¤ ì—°ì‚°ìë¼ê³  ë§ì´ ë¶€ë¥¸ë‹¤.
```

- Null ì´ ë°˜í™˜ë˜ì—ˆì„ ë•Œ ë™ì‘ì„ í•˜ê³ ì‹¶ë‹¤ë©´, ì—˜ë¹„ìŠ¤ ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì.

```kotlin
val cat: Cat? = person?.house?.cat ?: DefaultCat()

val contents: List<Content> = response.data ?: emptyList()

// ê¼­ ë°˜í™˜ê°’ì„ ì ì„ í•„ìš”ëŠ” ì—†ë‹¤. (ì•„ë˜ì˜ ê²½ìš° result ì—ëŠ” Nothing íƒ€ì…ì´ ë“¤ì–´ê°„ë‹¤)
val content: Content = service.getContentByName(name)
    ?: throw Exception("ì»¨í…ì¸ ì˜ ì´ë¦„ì´ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤.")
```

<br>

### ğŸ“Œ is as as?

ì½”í‹€ë¦°ì—ì„œëŠ” íƒ€ì…ìºìŠ¤íŒ…ì„ í•˜ê³  ì‹¶ë‹¤ë©´ ì—°ì‚°ì as ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

```kotlin
val person: Person = o as Person // ë³€í™˜ ì‹¤íŒ¨ì‹œ ClassCastException ë°œìƒ

val person: Person? = o as? Person // ë³€í™˜ ì‹¤íŒ¨ì‹œ null ë°˜í™˜
    ?: return false // ì´ë ‡ê²Œ ì—˜ë¹„ìŠ¤ ì—°ì‚°ìì™€ í•¨ê»˜ ì‚¬ìš©ê°€ëŠ¥
```

<br>

íƒ€ì…ì„ ìºìŠ¤íŒ…í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ë‹¨ìˆœì´ ê²€ì‚¬í•˜ê³  ì‹¶ë‹¤ë©´ is ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.  
ë‹¨, ì½”í‹€ë¦° ì»´íŒŒì¼ëŸ¬ëŠ” ìŠ¤ë§ˆíŠ¸ ìºìŠ¤íŒ…ì„ ì§€ì›í•˜ê¸°ì— ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```kotlin
if (o is Person) {
    // í•´ë‹¹ ì˜ì—­ì•ˆì—ëŠ” o ëŠ” ë¬´ì¡°ê±´ Person ì´ê¸° ë•Œë¬¸ì—, ì»´íŒŒì¼ëŸ¬ê°€ ìë™ì„ ìºìŠ¤íŒ…í•´ì¤€ë‹¤.
    println(o.name) // Person.name ì‚¬ìš© ê°€ëŠ¥
}
```

<br>

### ğŸ“Œ Null assertion [ _!!_ ]

- ìœ„ì˜ `?.` Safe Call ê³¼ ë¹„ìŠ·í•˜ì§€ë§Œ, ì´ëŠ” nullì´ ë°˜í™˜ë˜ë©´ `NullPointerExcetion` ë°œìƒì‹œí‚¨ë‹¤.
- ì‚¬ìš©ì„ ê¶Œì¥í•˜ê¸° ì•Šê¸°ì— ì¼ë¶€ëŸ¬ ì½”ë“œ ê°€ë…ì„±ì„ ë§ì¹˜ëŠ” `!!` ë¥¼ ì‚¬ìš©í•œë‹¤ê³  í•œë‹¤.
  ```kotlin 
  val str: Stirng = s!!
  val cat: Cat = person!!.house!!.cat!! // nullì´ë¼ë©´ NPE ë°œìƒ
  ```

ë‹¤ë§Œ ì•„ë˜ì™€ ê°™ì´ ì–´ì©” ìˆ˜ ì—†ëŠ” ê²½ìš°ë„ ìˆê¸°ì— ì´ë¥¼ ì œê³µí•œë‹¤.

- ì´ë¯¸ ë‹¤ë¥¸ ê³³ì—ì„œ Null ê²€ì‚¬ë¥¼ ë§ˆì³¤ì§€ë§Œ ì½”í‹€ë¦° ì»´íŒŒì¼ëŸ¬ëŠ” ì•Œ ìˆ˜ ì—†ëŠ” ê²½ìš°
- ì½”í‹€ë¦° ì½”ë“œê°€ ì•„ë‹Œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° `ex) Java Class`

<br>

----

## Scope Function ê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ê¸° [ _let apply run also with_ ]

ì‚¬ì‹¤ `let` ìœ¼ë¡œ ëª¨ë“  ê¸°ëŠ¥ì„ êµ¬í˜„í•´ë„ ìƒê´€ì—†ìœ¼ë‚˜, ì´ë¦„ì— ë§ê²Œ ì‚¬ìš©í•˜ë©´ ê°€ë…ì„±ì´ ì˜¬ë¼ê°„ë‹¤.

<br>

### ğŸ“Œ `*.let` (x -> x)  ê·¸ëŒ€ë¡œ ì „ë‹¬ë°›ê³ , ë‚´ê°€ ì›í•˜ëŠ” ê°’ì„ ë°˜í™˜

ê°€ì¥ í”í•˜ê²Œ ì“°ëŠ” í˜•íƒœë¡œ, ê¸°ì¡´ ë°˜í™˜ê°’ì„ í•¨ìˆ˜ ì²´ì´ë‹í•˜ì—¬ ì‚¬ìš©í•  ë–„ ìœ ìš©í•˜ë‹¤.

```kotlin
numbers.map { it.length }
    .filter { it > 3 }
    .let { println("num: $it") }
//.let(::println)
```

```kotlin
contentService.getContent(Id)
    ?.let(ContentDto::fromEntity)
    ?: throw EntityNotFoundException()
```

<details markdown="1">

<summary>  <b> [Click] run í•¨ìˆ˜ ì •ì˜ ì‚´í´ë³´ê¸°</b> </summary>

```kotlin
inline fun <T, R> T.let(block: (T) -> R): R {
    return block(this)
}
```

</details>

<br>
<br>

### ğŸ“Œ `*.run` (this) ê·¸ëŒ€ë¡œ ì „ë‹¬ë°›ê³ , ë‚´ê°€ ì›í•˜ëŠ” ê°’ì„ ë°˜í™˜

run ì´ë¼ëŠ” ì´ë¦„ì— ë§ê²Œ ì´ë¯¸ ë§Œë“¤ì–´ì§„ ê°ì²´ë¥¼ ìˆ˜ì •í•˜ë©´ì„œ ë°˜í™˜í•  ë•Œ ì ì ˆí•˜ë‹¤.

```kotlin
val person = Person("name", 23)

val nextAge = person.run {
    ++age // person.age += 1
}
```

ë‹¤ë§Œ run ì˜ ê²½ìš°, ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•˜ê¸°ë„ í•œë‹¤.

```kotlin
// ì´ë ‡ê²Œ ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ ì‚¬ìš©í•˜ì—¬ ê°€ë…ì„±ì„ ë†’ì—¬ ì¤„ ìˆ˜ ìˆë‹¤.
val person = run {
    val name = "H43RO"
    val age = 23
    Person(name, age)  // Return
}
```

<details markdown="1">

<summary>  <b> [ğŸ¯Click] run í•¨ìˆ˜ ì •ì˜</b> </summary>

```kotlin
fun <R> run(block: () -> R): R

inline fun <T, R> T.run(block: T.() -> R): R {
    return block()
}
```

</details>

<br>
<br>

### ğŸ“Œ `*.also` (x -> x) ê·¸ëŒ€ë¡œ ì „ë‹¬ë°›ê³ , ë°˜í™˜ ì•ˆí•¨ (ì›ë³¸ ê°ì²´ ë°˜í™˜)

also ë¼ëŠ” ì´ë¦„ì— ë§ê²Œ ê°ì²´ì˜ ê°’ì„ ìˆ˜ì •í•˜ì§€ ì•Šê³  ë¶€ê°€ì ì¸ ì‘ì—…ì„ í•  ë•Œ ì ì ˆí•˜ë‹¤.  
ë˜ëŠ” ë””ë²„ê·¸-ë¡œê¹…ë“± ë¶€ê°€ì ì¸ ëª©ì ìœ¼ë¡œ ì‚¬ìš©í•  ë•Œë„ ë‚˜ì˜ì§€ ì•Šë‹¤.

```kotlin
val numbers = mutableListOf("one", "two", "three")
numbers
    .also { println("new one: $it") }
    .add("four")
```

<details markdown="1">

<summary>  <b> [ğŸ¯Click] also í•¨ìˆ˜ ì •ì˜</b> </summary>

```kotlin
inline fun <T> T.also(block: (T) -> Unit): T {
    block(this)
    return this
}
```

</details>


<br>
<br>

### ğŸ“Œ `*.apply` (this) ê·¸ëŒ€ë¡œ ì „ë‹¬ë°›ê³ , ë°˜í™˜ ì•ˆí•¨ (ì›ë³¸ ê°ì²´ ë°˜í™˜)

apply ë¼ëŠ” ì´ë¦„ì— ë§ê²Œ, ê°ì²´ì˜ ê°’ì„ ì„¤ì •í•  ë•Œ ì‚¬ìš©í•˜ë©´ ì¢‹ë‹¤.

```kotlin
val adam = Person("Adam").apply {
    age = 32
    city = "London"
}

println(adam)
```

<details markdown="1">

<summary>  <b> [ğŸ¯Click] apply í•¨ìˆ˜ ì •ì˜</b> </summary>

```kotlin
inline fun <T> T.apply(block: T.() -> Unit): T {
    block()
    return this
}
```

</details>

<br>
<br>

### ğŸ“Œ `with(*)` (this) íŒŒë¼ë©”íƒ€ë¡œ ì „ë‹¬ë°›ê³ , ë‚´ê°€ ì›í•˜ëŠ” ê°’ì„ ë°˜í™˜

non-null ì¸ ê°ì²´ë§Œ ì‚¬ìš©ê°€ëŠ¥í•˜ë©°, íŒŒë¼ë©”íƒ€ê°€ ë³´ì—¬ì„œ ì•„ë˜ì™€ ì œí•œëœ ì»¨í…ìŠ¤íŠ¸ `{...}`ì•ˆì— ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œ ì‚¬ìš©í•˜ë©´ ê°€ë…ì„±ì´ ì¢‹ì•„ì§„ë‹¤.

```kotlin
with(numbers) {
    println("'with' is called with argument $this")
    println("It contains $size elements") // this.size
}
```

```kotlin
fun fromEntity(content: Content): ContentDto =
    with(contentMeta) {
        // this.contentId, this.status, this.startAT
        ContentDto(contentId, status, startAt)
    }
```

<details markdown="1">

<summary>  <b> [ğŸ¯Click] with í•¨ìˆ˜ ì •ì˜</b> </summary>

```kotlin
inline fun <T, R> with(receiver: T, block: T.() -> R): R {
    return receiver.block()
}
```

</details>

<br>

----

## ì½”í‹€ë¦°ì˜ ì›ì‹œíƒ€ì…

ì½”í‹€ë¦°ì—ì„œëŠ” ìë°”ì™€ ë‹¤ë¥´ê²Œ ë˜í¼íƒ€ì…(`Integer, Double`)ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤.  
ê°œë°œìëŠ” ì½”í‹€ë¦°ì—ì„œ ì œê³µí•˜ëŠ” íƒ€ì…ë§Œì„ ì‚¬ìš©í•œë‹¤. ì›ì‹œíƒ€ì…(`int, doulbe`) ìµœì í™” ì—¬ë¶€ëŠ” ì»´íŒŒì¼ëŸ¬ê°€ ê²°ì •í•œë‹¤.

```kotlin
val i: Int = 1
val list: List<Int> = listOf(1, 2, 3) // listOf<Int>(1,2,3)
```

<br>

ë§Œì•½ ì›ì‹œíƒ€ì…ì— null ì´ ë“¤ì–´ê°ˆ ìˆ˜ ìˆë‹¤ë©´, ì•„ë˜ì™€ ê°™ì´ `Int?` ìœ¼ë¡œ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

```kotlin
val age: Int? = null
```

<br>

### ğŸ“Œ ìˆ«ì ë³€í™˜ - ìë™ë³€í™˜ ë˜ì§€ ì•ŠìŒ

ì½”í‹€ë¦°ì—ì„œëŠ” Long - Int - Double ë“±ì´ ìë™ìœ¼ë¡œ ìºìŠ¤íŒ… ë˜ì§€ ì•ŠëŠ”ë‹¤.

```kotlin
val i = 1
val lo: Long = i // íƒ€ì…ì´ ë‹¤ë¥´ë¯€ë¡œ Error: type mismatch ê°€ ëŸ°íƒ€ì„ì— ë°œìƒí•œë‹¤.
println(i == lo) // Compile Error: Op '==' cannot be applied to 'Int' and 'Long'
```

ë³€í™˜ì´ í•„ìš”í•˜ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ ëª…ì‹œì ìœ¼ë¡œ í˜¸ì¶œí•´ì£¼ì–´ì•¼í•œë‹¤.

```kotlin
val i = 1
val lo1: Long = i.toLong() // toLong()ì—ì„œ ë³€í™˜ì— ì‹¤íŒ¨í•œ ê²½ìš° type mismatch ê°€ ë°œìƒí•œë‹¤.
val loNull: Long? = i.toLongOrNull() // ë³€í™˜ì— ì‹¤íŒ¨í•œ ê²½ìš° null ì„ ë°˜í™˜í•œë‹¤.
```

<br>

### ğŸ“Œ any (`ìë°”ì˜ object`)

ì½”í‹€ë¦°ì—ì„œ ëª¨ë“  ê°ì²´ëŠ” Any ë¥¼ ìƒì†ë°›ëŠ”ë‹¤. `ìë°”ì˜ Objectì™€ ê°™ë‹¤.`

```kotlin
val greeting: Any = "Hello, World!"
```

```java
// java ë¡œ ë³€í™˜ ì‹œ
public final Object greeting="Hello, World!"
```

<br>

### ğŸ“Œ Unit ê³¼ Nothing (`ìë°”ì˜ void`)

ì½”í‹€ë¦°ì—ì„œ voidëŠ” ì¡´ì¬í•˜ì§€ ì•Šê³ , `Unit` íƒ€ì…ì´ ì¡´ì¬í•œë‹¤.  
`Unit`ì€ í•¨ìˆ˜ê°€ ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œë¨ì„ ì˜ë¯¸í•˜ë©° í•¨ìˆ˜ì—ì„œ ì•„ë¬´ê²ƒë„ ë°˜í™˜í•˜ì§€ ì•Šìœ¼ë©´ Unit íƒ€ì…ì´ ë°˜í™˜ëœë‹¤.

```kotlin
fun returnsUnit(): Unit {
}

fun returnsUnitExplicitly(): Unit {
    return
}

fun returnsUnitExplicitly(): Unit {
    return Unit
}
```

```java
// java ë¡œ ë³€í™˜ ì‹œ
public final void returnsUnit(){
        }

public final void returnsUnitExplicitly(){
        return;
        }
```

<br>

ì½”í‹€ë¦°ì—ì„œëŠ” íŠ¹ì´í•˜ê²Œ `Unit` ê³¼ ë¹„ìŠ·í•œ `Nothing` íƒ€ì…ì´ ë³„ë„ë¡œ ì¡´ì¬í•œë‹¤.   
`Nothing`ì€ **âœ¨ëª¨ë“  íƒ€ì…ì˜ ì„œë¸Œí´ë˜ìŠ¤**ê°€ ë  ìˆ˜ ìˆìœ¼ë©° ê°œë°œìê°€ ì§ì ‘ ìƒì„±í•  ìˆ˜ëŠ” ì—†ë‹¤.
![-](../images/ch6/nothing-any.jpeg)

`Nothing` ì€ ê°œë°œìê°€ ë”°ë¡œ ì‚¬ìš©í•˜ì§€ ì•Šë”ë¼ë„, ì•„ë˜ì™€ ê°™ì€ ìƒí™©ì—ì„œ ë°˜í™˜ëœë‹¤.

- í•¨ìˆ˜ê°€ ì¢…ë£Œë˜ì§€ ì•Šê³  ì¤‘ê°„ì— ì˜ˆì™¸ë¥¼ ë˜ì§ˆ ê²½ìš°
  ```kotlin
  fun throwException(): Nothing {
      throw IllegalStateException()
  }
  ```
- í•¨ìˆ˜ê°€ ì¢…ë£Œë˜ì§€ ì•Šê³  ë¬´í•œ ë£¨í”„ë¥¼ ë„ëŠ” ê²½ìš°
  ```kotlin
   fun infiniteLoop(): Nothing {
       while (true) {
        println("Hi there!")
    }
  }
  ```

- ë§Œì•½ í•¨ìˆ˜ì˜ ë°˜í™˜ê°’ì´ nullable `fun hi(): Boolean?` ì¸ ê²½ìš°, ìœ„ì˜ ìƒí™©ì—ì„œ `Nothing?`ì´ ë°˜í™˜ëœë‹¤.
  ```kotlin
  fun mayThrowAnException(throwException: Boolean): Boolean? {
      return if (throwException) {
          throw IllegalStateException() // Nothing? ë°˜í™˜
      } else {
          println("Exception not thrown :)")
          null // Boolean? ë°˜í™˜
      }
  }
  ```

<br>

- ì´ë ‡ê²Œ Nothing íƒ€ì…ì„ ë³„ë„ë¡œ ë‘” ì´ìœ ëŠ”, ì½”í‹€ë¦°ì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ êµ¬ë¬¸ì´ ì•„ë‹Œ ì‹(`Expression`)ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ë§ê¸° ë•Œë¬¸ì´ë‹¤.
  ```kotlin
  val a = if(isBook()) "book" else "item" // if-else ë¥¼ ì‹ìœ¼ë¡œ ì‚¬ìš© 
  fun sum(a:Int, b:Int) : Int = a + b // í•¨ìˆ˜ë¥¼ ì‹ìœ¼ë¡œ ì„ ì–¸
  ```

- ì´ëŸ´ ë•Œ ì‹(`Expression`)ì—ì„œ ì˜ˆì™¸ê°€ í„°ì§„ ê²½ìš°, í• ë‹¹í•˜ëŠ” ê°’ì— `Nothing`íƒ€ì…ì„ ë„£ì–´ì„œ ì»´íŒŒì¼ ì˜ˆì™¸ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ë§Œë“¤ì–´ì£¼ëŠ” ìš©ë„ì´ë‹¤.
  ```kotlin
  val value: Int = nullableValue?.toInt() ?: return // value ëŠ” Nothing íƒ€ì…ì´ ë  ìˆ˜ ìˆë‹¤.
  ```

<br>

---

## ì»¬ë ‰ì…˜ê³¼ ë°°ì—´

![-](../images/ch6/collection.png)
ì½”í‹€ë¦°ì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë¶ˆë³€ ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•˜ê³ , ê°€ë³€ ì»¬ë ‰ì…˜ì€ Mutableì„ ë¶™ì—¬ ì‚¬ìš©í•œë‹¤.

| ì»¬ë ‰ì…˜  | ì½ê¸°ì „ìš©   | ë³€ê²½ê°€ëŠ¥                                              |
|------|--------|---------------------------------------------------|
| List | listOf | mutableListOf, arrayListOf                        |
| Set  | setOf  | mutableSetOf, hashSetOf, linkedSetOf, sortedSetOf |
| Map  | mapOf  | mutableMapOf, hashMapOf, linkedMapOf, sortedMapOf |

<br>

```kotlin
val list: List<Any> = listOf(1, 2, 3, "String") // list ëŠ” ë¶ˆë³€ì´ë‹¤. add ê°€ ì—†ë‹¤.

val mutableList: List<Any> = mutableListOf(1, 2, 3, "String")
mutableList.add("3") // ê°€ëŠ¥
```
* ë¶ˆë³€ì´ë¼ê³  ìƒê°í•˜ê³  ì‚¬ìš©í•´ë„ ì „í˜€ ë¬¸ì œì—†ì§€ë§Œ, ì—„ë°€íˆ ë”°ì§€ë©´ ì´ëŠ” ì½”í‹€ë¦° ì»´íŒŒì¼ëŸ¬ì—ì„œ ë§‰ì•„ì£¼ëŠ” ê²ƒì´ê³ , ì‹¤ì œ ë¦¬ìŠ¤íŠ¸ì˜ ê°’ì´ ë¶ˆë³€í•˜ì§€ëŠ” ì•Šë‹¤.
  ```
  ì •í™•íˆ ë”°ì§€ìë©´ setter ë§Œ ì œê±°í•œ ê²ƒì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤. 
  í•˜ì§€ë§Œ ì½”í‹€ë¦° ì»´íŒŒì¼ëŸ¬ê°€ ë§‰ì•„ì£¼ê¸°ì— ê°œë°œìëŠ” ì‹ ê²½ì“°ì§€ ì•Šê³  ë¶ˆë³€ ë¦¬ìŠ¤íŠ¸ë¡œ ì‚¬ìš©í•´ë„ ëœë‹¤.
  ì´ëŠ” JDK 8 ì´ì „ì—ëŠ” ë°”ì´íŠ¸ ì½”ë“œì—ì„œ ì œê³µí•˜ëŠ” ë¶ˆë³€ë¦¬ìŠ¤íŠ¸ `ex) List.of()` ê°€ ì¡´ì¬í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì¸ë°, ì¶”í›„ì— ë²„ì „ì´ ì—…ê·¸ë ˆì´ë“œë˜ë©° ì§„ì§œ ë¶ˆë³€ìœ¼ë¡œ ë³€ê²½ë  ìˆ˜ë„ ìˆë‹¤.
  ```
  
