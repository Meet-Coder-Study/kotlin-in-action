# 9μ¥. μ λ„¤λ¦­μ¤

- μ‹¤μ²΄ν™”ν• νƒ€μ… νλΌλ―Έν„°
    - μΈλΌμΈ ν•¨μ νΈμ¶μ—μ„ νƒ€μ… μΈμλ΅ μ“°μΈ κµ¬μ²΄μ μΈ νƒ€μ…μ„ μ‹¤ν–‰ μ‹μ μ— μ• μ μλ‹¤.
- μ„ μ–Έ μ§€μ  λ³€μ„±
    - κΈ°μ € νƒ€μ…μ€ κ°™μ§€λ§ νƒ€μ… μΈμκ°€ λ‹¤λ¥Έ λ‘ μ λ„¤λ¦­ νƒ€μ… Type<A>μ™€ Type<B>κ°€ μμ„ λ• νƒ€μ… μΈμ Aμ™€ Bμ μƒμ„/ν•μ„ νƒ€μ… κ΄€κ³„μ— λ”°λΌ λ‘ μ λ„¤λ¦­ νƒ€μ…μ μƒμ„/ν•μ„ νƒ€μ… κ΄€κ³„κ°€ μ–΄λ–»κ² λλ”μ§€ μ§€μ •ν•  μ μλ‹¤.
- μ‚¬μ© μ§€μ  λ³€μ„±
    - κ°™μ€ λ©ν‘(μ λ„¤λ¦­ νƒ€μ… κ°’ μ‚¬μ΄μ μƒμ„/ν•μ„ νƒ€μ… κ΄€κ³„ μ§€μ •)λ¥Ό μ λ„¤λ¦­ νƒ€μ… κ°’μ„ μ‚¬μ©ν•λ” μ„μΉμ—μ„ νλΌλ―Έν„° νƒ€μ…μ— λ€ν• μ μ•½μ„ ν‘μ‹ν•λ” λ°©μ‹μΌλ΅ λ‹¬μ„±

# 9.1 μ λ„¤λ¦­ νƒ€μ… νλΌλ―Έν„°

- μ λ„¤λ¦­μ¤λ¥Ό μ‚¬μ©ν•λ©΄ νƒ€μ… νλΌλ―Έν„°λ¥Ό λ°›λ” νƒ€μ…μ„ μ •μν•  μ μλ‹¤.
- μ½”ν‹€λ¦° μ»΄νμΌλ¬λ” λ³΄ν†µ νƒ€μ…κ³Ό λ§μ°¬κ°€μ§€λ΅ νƒ€μ… μΈμλ„ μ¶”λ΅  κ°€λ¥
    - `val authors = listOf("Dmitry", "Svetlana")`
    - List<String>μ„μ„ μ¶”λ΅  κ°€λ¥ν•λ‹¤.
- λΉ λ¦¬μ¤νΈλ¥Ό λ§λ“¤λ ¤λ©΄ νƒ€μ… μΈμλ¥Ό μ¶”λ΅ ν•  κ·Όκ±°κ°€ μ—†κΈ° λ•λ¬Έμ— μ§μ ‘ νƒ€μ… μΈμλ¥Ό λ…μ‹ν•΄μ•Ό ν•λ‹¤.
    - `val readers: MutableList<String> = mutableListOf()`
    - `val readers = mutableListOf<String>()`

<aside>
π’΅ μλ°”μ™€ λ‹¬λ¦¬ μ½”ν‹€λ¦°μ—μ„λ” μ λ„¤λ¦­ νƒ€μ…μ νƒ€μ… μΈμλ¥Ό ν”„λ΅κ·Έλλ¨Έκ°€ λ…μ‹ν•κ±°λ‚ μ»΄νμΌλ¬κ°€ μ¶”λ΅ ν•  μ μμ–΄μ•Ό ν•λ‹¤. μ½”ν‹€λ¦°μ€ μ²μλ¶€ν„° μ λ„¤λ¦­μ„ λ„μ…ν–κΈ° λ•λ¬Έμ— λ΅ νƒ€μ…μ€ μ§€μ›ν•μ§€ μ•λ”λ‹¤.

</aside>

## 9.1.1 μ λ„¤λ¦­ ν•¨μμ™€ ν”„λ΅νΌν‹°

- μ–΄λ–¤ νΉμ • νƒ€μ…μ„ μ €μ¥ν•λ” λ¦¬μ¤νΈ λΏλ§ μ•„λ‹λΌ λ¨λ“  λ¦¬μ¤νΈ(μ λ„¤λ¦­ λ¦¬μ¤νΈ)λ¥Ό λ‹¤λ£° μ μλ” ν•¨μλ¥Ό μ›ν•λ‹¤λ©΄ μ•„λμ™€ κ°™μ΄ μ λ„¤λ¦­ ν•¨μλ¥Ό μ‘μ„±ν•λ‹¤.

![Untitled 1](https://user-images.githubusercontent.com/37948906/184901395-d317bc7d-c9ae-4c0b-99de-8e05a92aba47.png)

- ν•¨μμ νƒ€μ… νλΌλ―Έν„° Tκ°€ μμ‹  κ°μ²΄μ™€ λ°ν™ νƒ€μ…μ— μ“°μΈλ‹¤.
- λ€λ¶€λ¶„ μ»΄νμΌλ¬κ°€ νƒ€μ… μΈμλ¥Ό μ¶”λ΅ ν•  μ μλ‹¤.

`μ λ„¤λ¦­ ν•¨μ νΈμ¶ν•κΈ°`

```kotlin
fun main(args: Array<String>) {
    val letters = ('a'..'z').toList()
    println(letters.slice<Char>(0..2))
    println(letters.slice(10..13))
}
```

μ„μ™€ κ°™μ΄ λ‘ νΈμ¶ κ²°κ³Ό νƒ€μ…μ€ λ¨λ‘ List<Char>μ΄λ‹¤. letters.slice(10..13)λ„ λ°ν™ νƒ€μ… List<T>μ Tλ¥Ό μ¶”λ΅ ν• Charλ΅ μΉν™ν•λ‹¤.

```kotlin
public fun <T> kotlin.collections.List<T>.slice(indices: kotlin.ranges.IntRange): kotlin.collections.List<T>
```

`μ λ„¤λ¦­ ν™•μ¥ ν”„λ΅νΌν‹° μ„ μ–Έ`

```kotlin
val <T> List<T>.penultimate: T
    get() = this[size - 2]

fun main(args: Array<String>) {
    println(listOf(1, 2, 3, 4).penultimate)
}
```

μΌλ°(ν™•μ¥μ΄ μ•„λ‹) ν”„λ΅νΌν‹°λ” νƒ€μ… νλΌλ―Έν„°λ¥Ό κ°€μ§ μ μ—†λ‹¤.

## 9.1.2 μ λ„¤λ¦­ ν΄λμ¤ μ„ μ–Έ

μ½”ν‹€λ¦°μ—μ„λ„ νƒ€μ… νλΌλ―Έν„°λ΅ λ„£μ€ κΊΎμ‡  κΈ°νΈ(<>)λ¥Ό ν΄λμ¤ λλ” μΈν„°νμ΄μ¤ μ΄λ¦„ λ’¤μ— λ¶™μ΄λ©΄ ν΄λμ¤λ‚ μΈν„°νμ΄μ¤λ¥Ό μ λ„¤λ¦­ν•κ² λ§λ“¤ μ μλ‹¤.

```kotlin
interface List<T> { // List μΈν„°νμ΄μ¤μ— TλΌλ” νƒ€μ… νλΌλ―Έν„° μ •μ
	operator fun get(index: Int): T // μΈν„°νμ΄μ¤ μ•μ—μ„ Tλ¥Ό μΌλ° νƒ€μ…μ²λΌ μ‚¬μ©
	// ...
}

class StringList: List<String> { // ν΄λμ¤λ” κµ¬μ²΄μ μΈ νƒ€μ… μΈμλ΅ Stringμ„ μ§€μ •
	override fun get(index: Int): String = ...}

class ArrayList<T>: List<T> {  // ArrayListμ μ λ„¤λ¦­ νƒ€μ… νλΌλ―Έν„° Tλ¥Ό Listμ νƒ€μ…μΌλ΅ λ„κΉ€
	override fun get(index : Int): T = ...
}
```

- StringList ν΄λμ¤λ” String νƒ€μ…μ μ›μ†λ§μ„ ν¬ν•¨ν•λ‹¤.
- ν•μ„ ν΄λμ¤μ—μ„ μƒμ„ ν΄λμ¤μ— μ •μλ ν•¨μλ¥Ό μ¤λ²„λΌμ΄λ“ν•κ±°λ‚ μ‚¬μ©ν•λ ¤λ©΄ νƒ€μ… μΈμ Tλ¥Ό κµ¬μ²΄μ  νƒ€μ… StringμΌλ΅ μΉν™ν•΄μ•Ό ν•λ‹¤.

## 9.1.3 νƒ€μ… νλΌλ―Έν„° μ μ•½

`νƒ€μ… νλΌλ―Έν„° μ μ•½`μ€ ν΄λμ¤λ‚ ν•¨μμ— μ‚¬μ©ν•  μ μλ” νƒ€μ… μΈμλ¥Ό μ ν•ν•λ” κΈ°λ¥μ΄λ‹¤.

![Untitled 2](https://user-images.githubusercontent.com/37948906/184901408-c467bc34-0608-4a77-9dec-5347b25e297f.png)

`νƒ€μ… νλΌλ―Έν„°μ μƒν• νƒ€μ…`

```kotlin
fun <T : Number> oneHalf(value: T): Double { // Numberλ” μƒν• νƒ€μ…
    return value.toDouble() / 2.0 // Numberμ— μ •μλ λ©”μ„λ“ νΈμ¶
}

fun main(args: Array<String>) {
    println(oneHalf(3))
}
```

`νƒ€μ… νλΌλ―Έν„°λ¥Ό μ μ•½ν•λ” ν•¨μ μ„ μ–Έ`

```kotlin
fun <T: Comparable<T>> max(first: T, second: T): T {
    return if (first > second) first else second
}

fun main(args: Array<String>) {
    println(max("kotlin", "java"))
}
```

λ§μ•½ λΉ„κµ λ¶κ°€λ¥ν• κ°’ μ‚¬μ΄μ— νΈμ¶ν•λ©΄ μ»΄νμΌ μ¤λ¥ λ°μƒ.

![Untitled 3](https://user-images.githubusercontent.com/37948906/184901417-af321ef6-93ac-4781-8c2a-f4a5ade1b709.png)

`νƒ€μ… νλΌλ―Έν„°μ— μ—¬λ¬ μ μ•½ κ°€ν•κΈ°`

```kotlin
fun <T> ensureTrailingPeriod(seq: T)
        where T : CharSequence, T : Appendable { // νƒ€μ… νλΌλ―Έν„° μ μ•½ λ©λ΅
    if (!seq.endsWith('.')) { // CharSequence ν™•μ¥ν•¨μ νΈμ¶
        seq.append('.') // Appendable μΈν„°νμ΄μ¤μ λ©”μ„λ“ νΈμ¶
    }
}

fun main(args: Array<String>) {
    val helloWorld = StringBuilder("Hello World")
    ensureTrailingPeriod(helloWorld)
    println(helloWorld)
}
```

## 9.1.4 νƒ€μ… νλΌλ―Έν„°λ¥Ό λ„μ΄ λ  μ μ—†λ” νƒ€μ…μΌλ΅ ν•μ •

- μ λ„¤λ¦­ ν΄λμ¤λ‚ ν•¨μλ¥Ό μ •μν•κ³  κ·Έ νƒ€μ…μ„ μΈμ¤ν„΄μ¤ν™”ν•  λ• λ„μ΄ λ  μ μλ” νƒ€μ…μ„ ν¬ν•¨ν•λ” μ–΄λ–¤ νƒ€μ…μΌλ΅ νƒ€μ… μΈμλ¥Ό μ§€μ •ν•΄λ„ νƒ€μ… νλΌλ―Έν„°λ¥Ό μΉν™ν•  μ μλ‹¤.
- μ¦‰, μƒν•μ„ μ •ν•μ§€ μ•μ€ νƒ€μ… νλΌλ―Έν„°λ” κ²°κ³Όμ μΌλ΅ Any?λ¥Ό μƒν•μΌλ΅ μ •ν• κ²ƒκ³Ό κ°™λ‹¤.

```kotlin
class Processor<T> {
	fun process(value T) {
		value?.hashCode() // "value"λ” λ„μ΄ λ  μ μλ‹¤.  λ”°λΌμ„ μ•μ „ν• νΈμ¶μ„ μ‚¬μ©ν•΄μ•Ό ν•λ‹¤.
	}
}
```

```kotlin
val nullableStringProcessor = Processor<String?>() // λ„μ΄ λ  μ μλ” String? μƒν•νƒ€μ…
nullableStringProcessor.process(null)
```

```kotlin
class Processor<T: Any> {
	fun process(value T){
		value.hashCode()
	}
}
```

- ν•­μƒ λ„μ΄ λ  μ μ—†λ” νƒ€μ…λ§ νƒ€μ… μΈμλ΅ λ°›κ² λ§λ“¤λ ¤λ©΄ νƒ€μ… νλΌλ―Έν„°μ— μ μ•½μ„ κ°€ν•΄μ•Ό ν•λ‹¤.
- λ„ κ°€λ¥μ„±μ„ μ μ™Έν• μ•„λ¬΄ μ μ•½λ„ ν•„μ” μ—†λ‹¤λ©΄ Anyλ¥Ό μƒν• νƒ€μ…μΌλ΅ μ‚¬μ©ν•λ‹¤.
- <T: Any>λΌλ” μ μ•½μ€ T νƒ€μ…μ΄ ν•­μƒ λ„μ΄ λ  μ μ—†λ” νƒ€μ…μ΄ λκ² λ³΄μ¥ν•λ‹¤. νƒ€μ… νλΌλ―Έν„°λ¥Ό λ„μ΄ λ  μ μ—†λ” νƒ€μ…μΌλ΅ μ μ•½ν•λ©΄ νƒ€μ… μΈμλ΅ λ„μ΄ λ  μ μλ” νƒ€μ…μ΄ λ“¤μ–΄μ¤λ” μΌμ„ μ»΄νμΌ μ‹μ μ—μ„ λ§‰μ„ μ μλ‹¤.

# 9.2 μ‹¤ν–‰ μ‹ μ λ„¤λ¦­μ¤μ λ™μ‘: μ†κ±°λ νƒ€μ… νλΌλ―Έν„°μ™€ μ‹¤μ²΄ν™”λ νƒ€μ… νλΌλ―Έν„°

- JVMμ μ λ„¤λ¦­μ¤λ” λ³΄ν†µ νƒ€μ… μ†κ±°λ¥Ό μ‚¬μ©ν•΄μ„ κµ¬ν„λλ‹¤. μ¦‰, μ‹¤ν–‰ μ‹μ μ— μ λ„¤λ¦­ ν΄λμ¤μ μΈμ¤ν„΄μ¤μ— νƒ€μ… μΈμ μ •λ³΄κ°€ λ“¤μ–΄μμ§€ μ•λ‹¤.
- ν•¨μλ¥Ό inlineμΌλ΅ λ§λ“¤λ©΄ νƒ€μ… μΈμκ°€ μ§€μ›μ§€μ§€ μ•κ² ν•  μ μλ‹¤.

## 9.2.1 μ‹¤ν–‰ μ‹μ μ μ λ„¤λ¦­: νƒ€μ… κ²€μ‚¬μ™€ μΊμ¤νΈ

- μλ°”μ™€ λ§μ°¬κ°€μ§€λ΅ μ½”ν‹€λ¦° μ λ„¤λ¦­ νƒ€μ… μΈμ μ •λ³΄λ” λ°νƒ€μ„μ— μ§€μ›μ§„λ‹¤.
    - μ¦‰ List<String> κ°μ²΄κ°€ μμ„ λ•, μ‹¤ν–‰ μ‹μ μ—λ” κ·Έ κ°μ²΄λ¥Ό μ¤μ§ Listλ΅λ§ λ³Ό μ μλ‹¤.

![Untitled 4](https://user-images.githubusercontent.com/37948906/184901420-ed45f96e-e06d-46a4-a9f8-19966e3ecb4c.png)

List<String>κ³Ό List<Int>λ” μ»΄νμΌ μ‹μ μ— νƒ€μ… μΈμλ¥Ό μ•κ³  μ¬λ°”λ¥Έ νƒ€μ… κ°’λ§ κ° λ¦¬μ¤νΈμ— λ„£λ„λ΅ λ³΄μ¥ν•΄μ¤€λ‹¤. κ·Έλλ„ list1κ³Ό list2λ” λ°νƒ€μ„ μ‹μ μ—λ” ListμΌ λΏμ΄λΌ κ°™μ€ νƒ€μ…μΈμ§€λ” μ• μ μ—†λ‹¤.

μ¦‰, μ•„λμ™€ κ°™μ€ `is` μ½”λ“λ” λ°νƒ€μ„ μ‹ μ‚¬μ©ν•  μ μ—†λ‹¤.

`if (value is List<String>){...}`

### μ¤νƒ€ ν”„λ΅μ μ…

`if (value is List<*>) {...}`

- νƒ€μ… νλΌλ―Έν„°κ°€ 2κ° μ΄μƒμ΄λΌλ©΄ λ¨λ“  νƒ€μ… νλΌλ―Έν„°μ— *λ¥Ό ν¬ν•¨ν•λ‹¤.
- μΈμλ¥Ό μ• μ μ—†λ” μ λ„¤λ¦­ νƒ€μ…μ„ ν‘ν„ν•  λ• (μλ°”μ List<?>μ™€ λΉ„μ·ν•¨) μ¤νƒ€ ν”„λ΅μ μ…μ„ μ‚¬μ©ν•λ‹¤.

`μ λ„¤λ¦­ νƒ€μ…μΌλ΅ νƒ€μ… μΊμ¤ν… ν•κΈ°`

```kotlin
fun printSum(c: Collection<*>) {
    val intList = c as? List<Int> // κ²½κ³  λ°μƒ
            ?: throw IllegalArgumentException("List is expected")
    println(intList.sum())
}

fun main(args: Array<String>) {
    printSum(listOf(1, 2, 3))
}
```

- μλ»λ νƒ€μ…μ μ›μ†κ°€ λ“¤μ–΄μλ” λ¦¬μ¤νΈλ¥Ό μ „λ‹¬ν•λ©΄ μ‹¤ν–‰ μ‹μ μ— ClassCastExceptionμ΄ λ°μƒν•λ‹¤.
- μ½”ν‹€λ¦° μ»΄νμΌλ¬λ” μ»΄νμΌ μ‹μ μ— νƒ€μ… μ •λ³΄κ°€ μ£Όμ–΄μ§„ κ²½μ°μ—λ” is κ²€μ‚¬λ¥Ό μν–‰ν•κ² ν—μ©ν•  μ μλ‹¤.

`μ•λ ¤μ§„ νƒ€μ… μΈμλ¥Ό μ‚¬μ©ν•΄ νƒ€μ… κ²€μ‚¬ν•κΈ°`

```kotlin
fun printSum(c: Collection<Int>) {
    if (c is List<Int>) {
        println(c.sum())
    }
}

fun main(args: Array<String>) {
    printSum(listOf(1, 2, 3))
}
```

## 9.2.2 μ‹¤μ²΄ν™”ν• νƒ€μ… νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν• ν•¨μ μ„ μ–Έ

- μ λ„¤λ¦­ ν΄λμ¤μ μΈμ¤ν„΄μ¤κ°€ μμ–΄λ„ κ·Έ μΈμ¤ν„΄μ¤λ¥Ό λ§λ“¤ λ• μ‚¬μ©ν• νƒ€μ… μΈμλ¥Ό μ•μ•„λ‚Ό μ μ—†λ‹¤.
- κ·Έλ¬λ‚ ν•¨μμ— `inline` ν‚¤μ›λ“λ¥Ό λ¶™μ΄λ©΄ μ»΄νμΌλ¬λ” κ·Έ ν•¨μλ¥Ό νΈμ¶ν•μ‹μ„ λ¨λ‘ ν•¨μ λ³Έλ¬ΈμΌλ΅ λ°”κΎΌλ‹¤.

```kotlin
inline fun <T> isA(value: Any) = value is T
```

![Untitled 5](https://user-images.githubusercontent.com/37948906/184901429-17b8eb12-cf4f-4913-881e-0987a9ce5d49.png)

- isAν•¨μλ¥Ό μΈλΌμΈ ν•¨μλ΅ λ§λ“¤κ³  νƒ•λΉ„ νλΌλ―Έν„°λ¥Ό reifiedλ΅ μ§€μ •ν•λ©΄ valueμ νƒ€μ…μ΄ T μΈμ¤ν„΄μ¤μΈμ§€λ¥Ό μ‹¤ν–‰ μ‹μ μ— κ²€μ‚¬ν•  μ μλ‹¤.

```kotlin
inline fun <reified T> isA(value: Any) = value is T

fun main(args: Array<String>) {
    println(isA<String>("abc"))
    println(isA<String>(123))
}
```

`filterIsInstance ν‘μ¤€ λΌμ΄λΈλ¬λ¦¬ ν•¨μ μ‚¬μ©ν•κΈ°`

```kotlin
fun main(args: Array<String>) {
    val items = listOf("one", 2, "three")
    println(items.filterIsInstance<String>())
}
```

```kotlin
public inline fun <reified R> kotlin.collections.Iterable<*>.filterIsInstance(): kotlin.collections.List<@kotlin.internal.NoInfer R> { /* compiled code */ }
```

- filterIsInstanceλ” κ·Έ νƒ€μ… μΈμλ¥Ό μ‚¬μ©ν•΄ λ¦¬μ¤νΈμ μ›μ† μ¤‘μ— νƒ€μ… μΈμμ™€ νƒ€μ…μ΄ μΌμΉν•λ” μ›μ†λ§μ„ μ¶”λ ¤λ‚Ό μ μλ‹¤.

<aside>
π’΅ **μΈλΌμΈ ν•¨μμ—μ„λ§ μ‹¤μ²΄ν™”ν• νƒ€μ… μΈμλ¥Ό μ“Έ μ μλ” μ΄μ **
μ‹¤μ²΄ν™”ν• νƒ€μ… μΈμλ” μ–΄λ–»κ² μ‘λ™ν• κΉ? μ™ μΌλ° ν•¨μμ—μ„λ” element is Tλ¥Ό μ“Έ μ μ—†κ³  μΈλΌμΈμ—μ„λ§ μ“Έ μ μμ„κΉ?

μ»΄νμΌλ¬λ” μ‹¤μ²΄ν™”ν• νƒ€μ… μΈμλ¥Ό μ‚¬μ©ν•΄ μΈλΌμΈ ν•¨μλ¥Ό νΈμ¶ν•λ” κ° λ¶€λ¶„μ μ •ν™•ν• νƒ€μ… μΈμλ¥Ό μ• μ μλ‹¤. λ”°λΌμ„ μ»΄νμΌλ¬λ” νƒ€μ… μΈμλ΅ μ“°μΈ κµ¬μ²΄μ μΈ ν΄λμ¤λ¥Ό μ°Έμ΅°ν•λ” λ°”μ΄νΈ μ½”λ“λ¥Ό μƒμ„±ν•΄ μ‚½μ…ν•  μ μλ‹¤.

μλ°” μ½”λ“μ—μ„λ” reified νƒ€μ… νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•λ” inline ν•¨μλ” νΈμ¶ν•  μ μ—†λ‹¤λ” μ μ„ κΈ°μ–µν•μ.

</aside>

## 9.2.3 μ‹¤μ²΄ν™”ν• νƒ€μ… νλΌλ―Έν„°λ΅ ν΄λμ¤ μ°Έμ΅° λ€μ‹ 

- java.lang.Class νƒ€μ… μΈμλ¥Ό νλΌλ―Έν„°λ΅ λ°›λ” APIμ— λ€ν• μ½”ν‹€λ¦° μ–΄λ‘ν„°λ¥Ό κµ¬μ¶•ν•λ” κ²½μ° μ‹¤μ²΄ν™”λ νƒ€μ… νλΌλ―Έν„°λ¥Ό μμ£Ό μ‚¬μ©ν•λ‹¤.
- ServiceLoaderλ” μ–΄λ–¤ μ¶”μƒ ν΄λμ¤λ‚ μΈν„°νμ΄μ¤λ¥Ό ν‘ν„ν•λ” java.lang.Classλ¥Ό λ°›μ•„μ„ κ·Έ ν΄λμ¤λ‚ μΈμ¤ν„΄μ¤λ¥Ό κµ¬ν„ν• μΈμ¤ν„΄μ¤λ¥Ό λ°ν™ν•λ‹¤.

```kotlin
// val serviceImpl = ServiceLoader.load(Service::class.java)
val serviceImpl = loadService<Service>() // μ„ μ£Όμ„κ³Ό λ™μΌ

inline fun <reified T> loadService() { // νƒ€μ… νλΌλ―Έν„°λ¥Ό "reified"λ΅ ν‘μ‹
	return ServiceLoader.load(T::class.java) // T::classλ΅ νƒ€μ… νλΌλ―Έν„°μ ν΄λμ¤λ¥Ό κ°€μ Έμ΄
}
```

## 9.2.4 μ‹¤μ²΄ν™”ν• νƒ€μ… νλΌλ―Έν„°μ μ μ•½

**λ‹¤μκ³Ό κ°™μ€ κ²½μ° μ‹¤μ²΄ν™”ν• νƒ€μ… νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•  μ μλ‹¤.**

- νƒ€μ… κ²€μ‚¬μ™€ μΊμ¤ν…(is, !is, as, as?)
- 10μ¥μ—μ„ μ„¤λ…ν•  μ½”ν‹€λ¦° λ¦¬ν”λ ‰μ… API(::class)
- μ½”ν‹€λ¦° νƒ€μ…μ— λ€μ‘ν•λ” java.lang.Classλ¥Ό μ–»κΈ°(::class.java)
- λ‹¤λ¥Έ ν•¨μλ¥Ό νΈμ¶ν•  λ• νƒ€μ… μΈμλ΅ μ‚¬μ©

**ν•μ§€λ§ λ‹¤μκ³Ό κ°™μ€ μΌμ€ ν•  μ μ—†λ‹¤.**

- νƒ€μ… νλΌλ―Έν„° ν΄λμ¤μ μΈμ¤ν„΄μ¤ μƒμ„±ν•κΈ°
- νƒ€μ… νλΌλ―Έν„° ν΄λμ¤μ λ™λ° κ°μ²΄ λ©”μ„λ“ νΈμ¶ν•κΈ°
- μ‹¤μ²΄ν™”ν• νƒ€μ… νλΌλ―Έν„°λ¥Ό μ”κµ¬ν•λ” ν•¨μλ¥Ό νΈμ¶ν•λ©΄μ„ μ‹¤μ²΄ν™”ν•μ§€ μ•μ€ νƒ€μ… νλΌλ―Έν„°λ΅ λ°›μ€ νƒ€μ…μ„ νƒ€μ… μΈμλ΅ λ„κΈ°κΈ°
- ν΄λμ¤, ν”„λ΅νΌν‹°, μΈλΌμΈ ν•¨μκ°€ μ•„λ‹ ν•¨μμ νƒ€μ… νλΌλ―Έν„°λ¥Ό reifiedλ΅ μ§€μ •ν•κΈ°

λ§μ§€λ§‰ μ μ•½μΌλ΅ μΈν•΄ μ‹¤μ²΄ν™”ν• νƒ€μ… νλΌλ―Έν„°λ¥Ό μΈλΌμΈ ν•¨μμ—λ§ μ‚¬μ©ν•  μ μμΌλ―€λ΅ β€μ‹¤μ²΄ν™”ν• νƒ€μ… νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•λ” ν•¨μλ” μμ‹ μ—κ² μ „λ‹¬λλ” λ¨λ“  λλ‹¤μ™€ ν•¨κ» μΈλΌμ΄λ‹λλ‹¤.β€™

λ§μ•½ μ„±λ¥λ¬Έμ λ΅ λλ‹¤λ¥Ό μΈλΌμΈν•κ³  μ‹¶μ§€ μ•μ€ κ²½μ° noinline λ³€κ²½μλ¥Ό ν•¨μ νƒ€μ… νλΌλ―Έν„°μ— λ¶™μ—¬μ„ μΈλΌμ΄λ‹μ„ κΈμ§€ν•  μ μλ‹¤.

# 9.3 λ³€μ„±: μ λ„¤λ¦­κ³Ό ν•μ„ νƒ€μ…

λ³€μ„± κ°λ…μ€ List<String>κ³Ό List<Any>μ™€ κ°™μ΄ κΈ°μ € νƒ€μ…μ΄ κ°™κ³  νƒ€μ… μΈμκ°€ λ‹¤λ¥Έ μ—¬λ¬ νƒ€μ…μ΄ μ„λ΅ μ–΄λ–¤ κ΄€κ³„λ¥Ό κ°€μ§€κ³  μλ”μ§€ μ„¤λ…ν•λ” κ°λ…μ΄λ‹¤.

## 9.3.1 λ³€μ„±μ΄ μλ” μ΄μ : μΈμλ¥Ό ν•¨μμ— λ„κΈ°κΈ°

μ΄ ν•¨μλ” κ° μ›μ†λ¥Ό Anyλ΅ μ·¨κΈ‰ν•λ©° λ¨λ“  λ¬Έμμ—΄μ€ Any νƒ€μ…μ΄κΈ°λ„ ν•λ―€λ΅ μ™„μ „ μ•μ „ν•λ‹¤.

```kotlin
fun printContents(list: List<Any>) {
    println(list.joinToString())
}

fun main(args: Array<String>) {
    printContents(listOf("abc", "bac"))
}
```

κ·ΈλΌ λ¦¬μ¤νΈλ¥Ό λ³€κ²½ν•λ” ν•¨μλ¥Ό λ§λ“¤μ–΄λ³΄μ.

```kotlin
fun addAnswer(list: MutableList<Any>) {
    list.add(42)
}

fun main(args: Array<String>) {
    val strings = mutableListOf("abc", "bac")
    addAnswer(strings)
}
```

![Untitled 6](https://user-images.githubusercontent.com/37948906/184901433-5c2168b9-d291-429e-b186-d2c17a15fd76.png)

μ„μ κ²½μ° addAnswerμ΄ λ¶κ°€λ¥ν•λ‹¤λ” μ»΄νμΌ μμ™Έκ°€ λ‚μ¨λ‹¤. MutableList<Any>κ°€ ν•„μ”ν• κ³³μ— MutableList<String>μ€ λ„κΈΈ μ μ—†λ‹¤.

λ§μ•½ μ„ μ»΄νμΌ μ—λ¬κ°€ λ‚μ§€ μ•μ•λ‹¤λ©΄ `addAnsert` λ©”μ„λ“ λ‚΄λ¶€μ—μ„ 42λ¥Ό λ”ν•  λ• μμ™Έκ°€ λ°μƒν–μ„ κ²ƒμ΄λ‹¤.

μ›μ†μ μ¶”κ°€λ‚ λ³€κ²½μ΄ μ—†λ” κ²½μ°μ—λ” List<String>μ„ List<Any> λ€μ‹  λ„κ²¨λ„ μ•μ „ν•λ‹¤. (λ§¨ μ²μ μμ‹μ™€ κ°™μ΄)

## 9.3.1 ν΄λμ¤, νƒ€μ…, ν•μ„ νƒ€μ…

νƒ€μ…κ³Ό ν΄λμ¤μ μ°¨μ΄

- μ λ„¤λ¦­ ν΄λμ¤κ°€ μ•„λ‹ ν΄λμ¤μ—λ” ν΄λμ¤ μ΄λ¦„μ„ λ°”λ΅ νƒ€μ…μΌλ΅ μ“Έ μ μλ‹¤.
- μ¬λ°”λ¥Έ νƒ€μ…μ„ μ–»μΌλ ¤λ©΄ μ λ„¤λ¦­ νƒ€μ…μ νƒ€μ… νλΌλ―Έν„°λ¥Ό κµ¬μ²΄μ μΈ νƒ€μ… μΈμλ΅ λ°”κΏ”μ¤μ•Ό ν•λ‹¤.
- ν•μ„ νƒ€μ…
    - νƒ€μ… Aμ κ°’μ΄ ν•„μ”ν• λ¨λ“  μ¥μ†μ— μ–΄λ–¤ νƒ€μ… Bμ κ°’μ„ λ„£μ–΄λ„ μ•„λ¬΄ λ¬Έμ κ°€ μ—†λ‹¤λ©΄ νƒ€μ… Bλ” νƒ€μ… Aμ ν•μ„ νƒ€μ…μ΄λ‹¤.
- μƒμ„ νƒ€μ…
    - Aνƒ€μ…μ΄ B νƒ€μ…μ ν•μ„ νƒ€μ…μ΄λΌλ©΄ Bλ” Aμ μƒμ„ νƒ€μ…μ΄λ‹¤.


![Untitled 7](https://user-images.githubusercontent.com/37948906/184901436-14f05c2a-9c65-4f2f-997d-13956da66fa6.png)

```kotlin
fun test(i: Int) {
	val n: Number = i // Intκ°€ Numberμ ν•μ„ νƒ€μ…μ΄λ―€λ΅ μ»΄νμΌ λ¨.
	fun f(s: String {/*...*/} // Intκ°€ Stringμ ν•μ„ νƒ€μ…μ΄ μ•„λ‹μ–΄μ„ μ»΄νμΌ μ•λ¨.
	f(i)
}
```

- λ„μ΄ λ  μ μλ” νƒ€μ…μ€ ν•μ„ νƒ€μ…κ³Ό ν•μ„ ν΄λμ¤κ°€ κ°™μ§€ μ•μ€ κ²½μ°λ¥Ό λ³΄μ—¬μ¤€λ‹¤.

![Untitled 8](https://user-images.githubusercontent.com/37948906/184901437-0c0103d4-bee7-4555-afdf-31445c74c8c2.png)

```kotlin
val s: String = "abc"
val t: String?= s // Stringμ΄ String?μ ν•μ„ νƒ€μ…μ΄λ―€λ΅ ν•©λ²•μ΄λ‹¤.
```

μ¦‰, MutableList<Any>λ„ MutableList<String>μ ν•μ„ νƒ€μ…μ΄ μ•„λ‹λ‹¤. 

- λ¬΄κ³µλ³€
    - νƒ€μ… μΈμλ΅ μ„λ΅ λ‹¤λ¥Έ νƒ€μ…μ΄ λ“¤μ–΄κ°€λ©΄ μΈμ¤ν„΄μ¤ νƒ€μ… μ‚¬μ΄μ ν•μ„ νƒ€μ… κ΄€κ³„κ°€ μ„±λ¦½ν•μ§€ μ•μΌλ©΄ κ·Έ μ ν…λ¦­ νƒ€μ…μ„ λ¬΄κ³µλ³€μ΄λΌ ν•λ‹¤.
- κ³µλ³€μ 
    - Aκ°€ Bμ ν•μ„ νƒ€μ…μ΄λ©΄ List<A>λ” List<B>μ ν•μ„ νƒ€μ…μ΄λ‹¤. κ·Έλ° ν΄λμ¤λ‚ μΈν„°νμ΄μ¤λ¥Ό β€κ³µλ³€μ 'μ΄λΌκ³  ν•λ‹¤.
    

## 9.3.3 κ³µλ³€μ„±: ν•μ„ νƒ€μ… κ΄€κ³„λ¥Ό μ μ§€

- Aκ°€ Bμ ν•μ„ νƒ€μ…μΌ λ• Producer<A>κ°€ Producer<B>μ ν•μ„ νƒ€μ…μ΄λ©΄ Producerλ” κ³µλ³€μ μ΄λ‹¤.
- μ½”ν‹€λ¦°μ—μ„ μ λ„¤λ¦­ ν΄λμ¤κ°€ νƒ€μ… νλΌλ―Έν„°μ— λ€ν•΄ κ³µλ³€μ μ„μ„ ν‘μ‹ν•λ ¤λ©΄ νƒ€μ… νλΌλ―Έν„° μ΄λ¦„ μ•μ— `out`μ„ λ„£μ–΄μ•Ό ν•λ‹¤.

```kotlin
interface Producer<out T> {
	fun produce(): T // ν΄λμ¤κ°€ Tμ— λ€ν•΄ κ³µλ³€μ μ΄λ‹¤.
}
```

- νƒ€μ… νλΌλ―Έν„°λ¥Ό κ³µλ³€μ μΌλ΅ λ§λ“¤λ©΄ ν•¨μ μ •μμ— μ‚¬μ©ν• νλΌλ―Έν„° νƒ€μ…κ³Ό νƒ€μ… μΈμμ νƒ€μ…μ΄ μ •ν™•ν μΌμΉν•μ§€ μ•λ”λΌλ„ κ·Έ ν΄λμ¤μ μΈμ¤ν„΄μ¤λ¥Ό ν•¨μ μΈμλ‚ λ°ν™ κ°’μΌλ΅ μ‚¬μ©ν•  μ μλ‹¤.

`λ¬΄κ³µλ³€ μ»¬λ ‰μ… μ—­ν• μ„ ν•λ” ν΄λμ¤ μ •μ`

```kotlin
open class Anymal {
	fun feed() {...}
}

class Herd<T: Anymal> { // μ΄ νƒ€μ… νλΌλ―Έν„°λ¥Ό λ¬΄κ³µλ³€μ„±μΌλ΅ μ§€μ •ν•λ‹¤.
	val size: Int get() = ...
	operator fun get(i : Int): T {...}
}

fun feedAll(animals: Herd<Anymal>) {
	for (i in 0 until animals.size){
		animals[i].feed()
	}
}
```

`κ³µλ³€μ  μ»¬λ ‰μ… μ—­ν• μ„ ν•λ” ν΄λμ¤ μ‚¬μ©ν•κΈ°`

```kotlin
class Herd<out T : Anymal> { // Tλ” μ΄μ  κ³µλ³€μ μ΄λ‹¤.
	...
}
fun takeCareOfCats(cats: Herd<Cat>){
	for (i in 0 until cats.size) {
		cats[i].cleanLitter()
	}
	feedAll(cats) // μΊμ¤ν… λ¶ν•„μ”
}
```

- νƒ€μ… νλΌλ―Έν„°λ¥Ό κ³µλ³€μ μΌλ΅ μ§€μ •ν•λ©΄ ν΄λμ¤ λ‚΄λ¶€μ—μ„ κ·Έ νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•λ” λ°©λ²•μ„ μ ν•ν•λ‹¤.
- ν΄λμ¤κ°€ T νƒ€μ…μ κ°’μ„ μƒμ‚°ν• μ μμ§€λ§ T νƒ€μ…μ κ°’μ„ μ†λΉ„ν•  μλ” μ—†λ‹¤.
- ν΄λμ¤ νƒ€μ… νλΌλ―Έν„° T μ•μ— out ν‚¤μ›λ“λ¥Ό λ¶™μ΄λ©΄ ν΄λμ¤ μ•μ—μ„ Tλ¥Ό μ‚¬μ©ν•λ” λ©”μ„λ“κ°€ μ•„μ›ƒ μ„μΉμ—μ„λ§ Tλ¥Ό μ‚¬μ©ν•κ² ν—μ©ν•κ³  μΈ μ„μΉμ—μ„λ” Tλ¥Ό μ‚¬μ©ν•μ§€ λ»ν•κ² λ§‰λ”λ‹¤.
- out ν‚¤μ›λ“λ” Tμ μ‚¬μ©λ²•μ„ μ ν•ν•λ©° Tλ΅ μƒκΈ°λ” ν•μ„ νƒ€μ… κ΄€κ³„μ νƒ€μ… μ•μ „μ„±μ„ λ³΄μ¥ν•λ‹¤.

```kotlin
class Herd<out T: Animal> {
	val size: Int get() = ...
	operator fun get(i: Int): T {...} // Tλ¥Ό λ°ν™ νƒ€μ…μΌλ΅ μ‚¬μ©ν•λ‹¤.
}
```

`νƒ€μ… νλΌλ―Έν„° Tμ— λ¶™μ€ out ν‚¤μ›λ“μ μλ―Έ`

- κ³µλ³€μ„±: ν•μ„ νƒ€μ… κ΄€κ³„κ°€ μ μ§€λλ‹¤. (Producer<Cat>μ€ Producer<Anymal>μ ν•μ„ νƒ€μ…μ΄λ‹¤.)
- μ‚¬μ© μ ν•: Tλ¥Ό **μ•„μ›ƒ μ„μΉμ—μ„λ§ μ‚¬μ©ν•  μ μλ‹¤.**

## 9.3.4 λ°κ³µλ³€μ„±: λ’¤μ§‘ν ν•μ„ νƒ€μ… κ΄€κ³„

- νƒ€μ… Bκ°€ νƒ€μ… Aμ ν•μ„ νƒ€μ…μΈ κ²½μ° Consumer<A>κ°€ Consumer<B>μ ν•μ„ νƒ€μ…μΈ κ΄€κ³„κ°€ μ„±λ¦½ν•λ©΄ μ λ„¤λ¦­ ν΄λμ¤ Consumer<T>λ” νƒ€μ… μΈμ Tμ— λ€ν•΄ λ°κ³µλ³€μ΄λ‹¤.

![Untitled 9](https://user-images.githubusercontent.com/37948906/184901440-52be467b-f8be-474b-ab3a-c03b2b3c3886.png)

- κ³µλ³€μ„± νƒ€μ… Producer<T>μ—μ„λ” νƒ€μ… μΈμμ ν•μ„ νƒ€μ… κ΄€κ³„κ°€ μ λ„¤λ¦­ νƒ€μ…μ—μ„λ„ μ μ§€λμ§€λ§ λ°κ³µλ³€μ„± νƒ€μ… Consumer<T>μ—μ„λ” νƒ€μ… μΈμμ ν•μ„ νƒ€μ… κ΄€κ³„κΉ μ λ„¤λ¦­ νƒ€μ…μΌλ΅ μ¤λ©΄μ„ λ’¤μ§‘νλ‹¤.

![Untitled 10](https://user-images.githubusercontent.com/37948906/184901443-8065682a-b91d-484a-9068-9904b6569654.png)

- ν•¨μ νƒ€μ… (T) β†’ Rμ€ μΈμμ νƒ€μ…μ— λ€ν•΄μ„λ” λ°κ³µλ³€μ μ΄λ©΄μ„ λ°ν™ νƒ€μ…μ— λ€ν•΄μ„λ” κ³µλ³€μ μ΄λ‹¤.

![Untitled](https://user-images.githubusercontent.com/37948906/184901447-6f8ad373-deb9-41da-bfd8-c72e793d09a6.png)

## 9.3.5 μ‚¬μ© μ§€μ  λ³€μ„±: νƒ€μ…μ΄ μ–ΈκΈλλ” μ§€μ μ—μ„ λ³€μ„± μ§€μ •

- μ„ μ–Έ μ§€μ  λ³€μ„±
    - ν΄λμ¤λ¥Ό μ„ μ–Έν•λ©΄μ„ λ³€μ„±μ„ μ§€μ •ν•λ©΄ κ·Έ ν΄λμ¤λ¥Ό μ‚¬μ©ν•λ” λ¨λ“  μ¥μ†κ°€ λ³€μ„± μ§€μ •μκ°€ μν–¥μ„ λΌμΉλ―€λ΅ νΈλ¦¬ν•λ‹¤.
- μ‚¬μ© μ§€μ  λ³€μ„±
    - μλ°”μ—μ„λ” νƒ€μ… νλΌλ―Έν„°κ°€ μλ” νƒ€μ…μ„ μ‚¬μ©ν•  λ•λ§λ‹¤ ν•΄λ‹Ή νƒ€μ… νλΌλ―Έν„°λ¥Ό ν•μ„ νƒ€μ…μ΄λ‚ μƒμ„ νƒ€μ… μ¤‘ μ–΄λ–¤ νƒ€μ…μΌλ΅ λ€μΉν•  μ μλ”μ§€ λ…μ‹

```kotlin
fun <T: R, R> copyData(source: MutableList<T>,
                       destination: MutableList<R>) {
    for (item in source) {
        destination.add(item)
    }
}

fun main(args: Array<String>) {
    val ints = mutableListOf(1, 2, 3)
    val anyItems = mutableListOf<Any>()
    copyData(ints, anyItems)
    println(anyItems)
}
```

- λ‘ μ»¬λ ‰μ… λ¨λ‘ λ¬΄κ³µλ³€ νƒ€μ…μ΄μ§€λ§ μ›λ³Έ μ»¬λ ‰μ…μ—μ„ μ½κΈ°λ§ ν•κ³  λ€μƒ μ»¬λ ‰μ…μ—λ” μ“°κΈ°λ§ ν•λ‹¤.

`μ•„μ›ƒ-ν”„λ΅μ μ… νƒ€μ… νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•λ” λ°μ΄ν„° λ³µμ‚¬ ν•¨μ`

```kotlin
fun <T> copyData(source: MutableList<out T>,
                 destination: MutableList<T>) {
    for (item in source) {
        destination.add(item)
    }
}

fun main(args: Array<String>) {
    val ints = mutableListOf(1, 2, 3)
    val anyItems = mutableListOf<Any>()
    copyData(ints, anyItems)
    println(anyItems)
}
```

- out ν‚¤μ›λ“νƒ€μ…μ„ μ‚¬μ©ν•λ” μ„μΉ μ•μ— λ¶™μ΄λ©΄ Tνƒ€μ…μ„ β€inβ€μ„μΉμ— μ‚¬μ©ν•λ” λ©”μ„λ“λ¥Ό νΈμ¶ν•μ§€ μ•κ² λ‹¤λ” λ».

`in ν”„λ΅μ μ… νƒ€μ… νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•λ” λ°μ΄ν„° λ³µμ‚¬ ν•¨μ`

```kotlin
fun <T> copyData(source: MutableList<T>,
                 destination: MutableList<in T>) {
    for (item in source) {
        destination.add(item)
    }
}

fun main(args: Array<String>) {
    val ints = mutableListOf(1, 2, 3)
    val anyItems = mutableListOf<Any>()
    copyData(ints, anyItems)
    println(anyItems)
}
```

- μ›λ³Έ λ¦¬μ¤νΈ μ›μ† νƒ€μ…μ μƒμ„ νƒ€μ…μ„ λ€μƒ λ¦¬μ¤νΈ μ›μ† νƒ€μ…μΌλ΅ ν—μ©ν•λ‹¤.

<aside>
π’΅ μ½”ν‹€λ¦°μ μ‚¬μ© μ§€μ  λ³€μ„± μ„ μ–Έμ€ μλ°”μ `ν•μ • μ™€μΌλ“ μΉ΄λ“(bounded wildcard)μ™€ λ‘κ°™λ‹¤. μ½”ν‹€λ¦° MutableList<out T>λ” μλ°” MutableList<? extends T>μ™€ κ°™κ³ 
MutableList<in T>λ” μλ°” MutableList<? super T>μ™€ κ°™λ‹¤.

</aside>

## 9.3.6 μ¤νƒ€ ν”„λ΅μ μ…: νƒ€μ… μΈμ λ€μ‹  * μ‚¬μ©

μ¤νƒ€ ν”„λ΅ν”„λ΅μ μ…μ€ List<*>λΌλ” κµ¬λ―„μΌλ΅ ν‘ν„

- MutableList<*>λ” MutableList<Any?>μ™€ λΉ„μ·ν•μ§€λ§ κ°™μ§€ μ•λ‹¤. MutableList<Any?>λ” λ¨λ“  νƒ€μ…μ μ›μ†λ¥Ό λ‹΄μ„ μ μλ‹¤λ” μ‚¬μ‹¤μ„ μ• μ μλ” λ¦¬μ¤νΈλ‹¤.
- λ°λ©΄ MutableList<*>λ” μ–΄λ–¤ μ •ν•΄μ§„ κµ¬μ²΄μ μΈ νƒ€μ…μ μ›μ†λ§μ„ λ‹΄λ” λ¦¬μ¤νΈμ§€λ§ κ·Έ μ›μ†μ νƒ€μ…μ„ μ •ν™•ν λ¨λ¥Έλ‹¤λ” λ»μ΄λ‹¤.
- μ½”ν‹€λ¦°μ MyType<*>λ” μλ°”μ MyType<?>μ— λ€μ‘ν•λ‹¤.

```kotlin
interface FieldValidator<in T> {
    fun validate(input: T): Boolean
}

object DefaultStringValidator : FieldValidator<String> {
    override fun validate(input: String) = input.isNotEmpty()
}

object DefaultIntValidator : FieldValidator<Int> {
    override fun validate(input: Int) = input >= 0
}

object Validators {
    private val validators =
            mutableMapOf<KClass<*>, FieldValidator<*>>()

    fun <T: Any> registerValidator(
            kClass: KClass<T>, fieldValidator: FieldValidator<T>) {
        validators[kClass] = fieldValidator
    }

    @Suppress("UNCHECKED_CAST")
    operator fun <T: Any> get(kClass: KClass<T>): FieldValidator<T> =
        validators[kClass] as? FieldValidator<T>
                ?: throw IllegalArgumentException(
                "No validator for ${kClass.simpleName}")
}

fun main(args: Array<String>) {
    Validators.registerValidator(String::class, DefaultStringValidator)
    Validators.registerValidator(Int::class, DefaultIntValidator)
    println(Validators[String::class].validate("Kotlin"))
    println(Validators[Int::class].validate(42))
}
```

- μ΄ ν¨ν„΄μ€ λ¨λ“  μ»¤μ¤ν…€ μ λ„¤λ¦­ ν΄λμ¤λ¥Ό μ €μ¥ν•  λ• μ‚¬μ©ν•  μ μκ² ν™•μ¥ν•  μλ„ μλ‹¤.